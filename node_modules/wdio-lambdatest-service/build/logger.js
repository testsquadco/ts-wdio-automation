"use strict";

require("source-map-support/register");
var winston = require("winston");
function logging(logFile) {
  var winstonFormat = winston.format;
  if (process.env.LT_API_LOG === "true") {
    return winston.createLogger({
      level: "info",
      format: winstonFormat.combine(winstonFormat.timestamp(), winstonFormat.json()),
      transports: [new winston.transports.File({
        filename: logFile ? logFile : "lambda_api.log"
      })]
    });
  }
  return winston.createLogger({
    level: "info",
    silent: "true",
    format: winstonFormat.combine(winstonFormat.timestamp(), winstonFormat.json()),
    transports: [new winston.transports.Console()]
  });
}
module.exports = logging;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3aW5zdG9uIiwicmVxdWlyZSIsImxvZ2dpbmciLCJsb2dGaWxlIiwid2luc3RvbkZvcm1hdCIsImZvcm1hdCIsInByb2Nlc3MiLCJlbnYiLCJMVF9BUElfTE9HIiwiY3JlYXRlTG9nZ2VyIiwibGV2ZWwiLCJjb21iaW5lIiwidGltZXN0YW1wIiwianNvbiIsInRyYW5zcG9ydHMiLCJGaWxlIiwiZmlsZW5hbWUiLCJzaWxlbnQiLCJDb25zb2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBsb2dnZXIgZm9yIGNyZWF0ZSBsb2dGaWxlIGFzIGxhbWJkYV9hcGkubG9nIHRvIGN1cnJlbnQgZGlyIGlmIHBhdGggaXMgbm90IHBhc3NlZCBieSBVc2VyLlxuICovXG52YXIgd2luc3RvbiA9IHJlcXVpcmUoXCJ3aW5zdG9uXCIpO1xuXG5mdW5jdGlvbiBsb2dnaW5nKGxvZ0ZpbGUpe1xuICB2YXIgd2luc3RvbkZvcm1hdCA9IHdpbnN0b24uZm9ybWF0O1xuICBpZiAocHJvY2Vzcy5lbnYuTFRfQVBJX0xPRyA9PT0gXCJ0cnVlXCIpe1xuICAgIHJldHVybiB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7XG4gICAgICBsZXZlbDogXCJpbmZvXCIsXG4gICAgICBmb3JtYXQ6IHdpbnN0b25Gb3JtYXQuY29tYmluZShcbiAgICAgICAgd2luc3RvbkZvcm1hdC50aW1lc3RhbXAoKSxcbiAgICAgICAgd2luc3RvbkZvcm1hdC5qc29uKClcbiAgICAgICksXG4gICAgICB0cmFuc3BvcnRzOiBbbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHsgZmlsZW5hbWU6IGxvZ0ZpbGUgPyBsb2dGaWxlIDogXCJsYW1iZGFfYXBpLmxvZ1wiIH0pXVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB3aW5zdG9uLmNyZWF0ZUxvZ2dlcih7XG4gICAgbGV2ZWw6IFwiaW5mb1wiLFxuICAgIHNpbGVudDpcInRydWVcIixcbiAgICBmb3JtYXQ6IHdpbnN0b25Gb3JtYXQuY29tYmluZShcbiAgICAgIHdpbnN0b25Gb3JtYXQudGltZXN0YW1wKCksXG4gICAgICB3aW5zdG9uRm9ybWF0Lmpzb24oKVxuICAgICksXG4gICAgdHJhbnNwb3J0czogW25ldyB3aW5zdG9uLnRyYW5zcG9ydHMuQ29uc29sZSgpXVxuICB9KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gbG9nZ2luZyJdLCJtYXBwaW5ncyI6Ijs7O0FBR0EsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBRWhDLFNBQVNDLE9BQU9BLENBQUNDLE9BQU8sRUFBQztFQUN2QixJQUFJQyxhQUFhLEdBQUdKLE9BQU8sQ0FBQ0ssTUFBTTtFQUNsQyxJQUFJQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVSxLQUFLLE1BQU0sRUFBQztJQUNwQyxPQUFPUixPQUFPLENBQUNTLFlBQVksQ0FBQztNQUMxQkMsS0FBSyxFQUFFLE1BQU07TUFDYkwsTUFBTSxFQUFFRCxhQUFhLENBQUNPLE9BQU8sQ0FDM0JQLGFBQWEsQ0FBQ1EsU0FBUyxDQUFDLENBQUMsRUFDekJSLGFBQWEsQ0FBQ1MsSUFBSSxDQUFDLENBQ3JCLENBQUM7TUFDREMsVUFBVSxFQUFFLENBQUMsSUFBSWQsT0FBTyxDQUFDYyxVQUFVLENBQUNDLElBQUksQ0FBQztRQUFFQyxRQUFRLEVBQUViLE9BQU8sR0FBR0EsT0FBTyxHQUFHO01BQWlCLENBQUMsQ0FBQztJQUM5RixDQUFDLENBQUM7RUFDSjtFQUNBLE9BQU9ILE9BQU8sQ0FBQ1MsWUFBWSxDQUFDO0lBQzFCQyxLQUFLLEVBQUUsTUFBTTtJQUNiTyxNQUFNLEVBQUMsTUFBTTtJQUNiWixNQUFNLEVBQUVELGFBQWEsQ0FBQ08sT0FBTyxDQUMzQlAsYUFBYSxDQUFDUSxTQUFTLENBQUMsQ0FBQyxFQUN6QlIsYUFBYSxDQUFDUyxJQUFJLENBQUMsQ0FDckIsQ0FBQztJQUNEQyxVQUFVLEVBQUUsQ0FBQyxJQUFJZCxPQUFPLENBQUNjLFVBQVUsQ0FBQ0ksT0FBTyxDQUFDLENBQUM7RUFDL0MsQ0FBQyxDQUFDO0FBQ0o7QUFDQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdsQixPQUFPIiwiaWdub3JlTGlzdCI6W119